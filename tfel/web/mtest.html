<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>MTest: unit mechanical behaviour testing</title>
        <meta name="author" content="Helfer Thomas" />
        <meta name="author" content="Jean-Michel Proix" />
            <meta name="date" content="2014-08-19" />
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <style type="text/css">code{white-space: pre;}</style>
            <style type="text/css">
      a.sourceLine { display: inline-block; line-height: 1.25; }
      a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
      a.sourceLine:empty { height: 1.2em; position: absolute; }
      .sourceCode { overflow: visible; }
      code.sourceCode { white-space: pre; position: relative; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      code.sourceCode { white-space: pre-wrap; }
      a.sourceLine { text-indent: -1em; padding-left: 1em; }
      }
      pre.numberSource a.sourceLine
        { position: relative; }
      pre.numberSource a.sourceLine:empty
        { position: absolute; }
      pre.numberSource a.sourceLine::before
        { content: attr(data-line-number);
          position: absolute; left: -5em; text-align: right; vertical-align: baseline;
          border: none; pointer-events: all;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          color: #aaaaaa;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
      div.sourceCode
        {  }
      @media screen {
      a.sourceLine::before { text-decoration: underline; }
      }
      code span.al { color: #ff0000; font-weight: bold; } /* Alert */
      code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
      code span.at { color: #7d9029; } /* Attribute */
      code span.bn { color: #40a070; } /* BaseN */
      code span.bu { } /* BuiltIn */
      code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #4070a0; } /* Char */
      code span.cn { color: #880000; } /* Constant */
      code span.co { color: #60a0b0; font-style: italic; } /* Comment */
      code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
      code span.do { color: #ba2121; font-style: italic; } /* Documentation */
      code span.dt { color: #902000; } /* DataType */
      code span.dv { color: #40a070; } /* DecVal */
      code span.er { color: #ff0000; font-weight: bold; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #40a070; } /* Float */
      code span.fu { color: #06287e; } /* Function */
      code span.im { } /* Import */
      code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
      code span.kw { color: #007020; font-weight: bold; } /* Keyword */
      code span.op { color: #666666; } /* Operator */
      code span.ot { color: #007020; } /* Other */
      code span.pp { color: #bc7a00; } /* Preprocessor */
      code span.sc { color: #4070a0; } /* SpecialChar */
      code span.ss { color: #bb6688; } /* SpecialString */
      code span.st { color: #4070a0; } /* String */
      code span.va { color: #19177c; } /* Variable */
      code span.vs { color: #4070a0; } /* VerbatimString */
      code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    </style>
            <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="css/main.css"/>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
          </head>
  <body>
    <!--[if lt IE 7]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
        <header>
      <ul id="nav">
	<li><a href="news.html">News</a></li>
	<li><a href="index.html">Overview</a>
	  <ul>
	    <li><a>Domain specific languages</a>
	      <ul>
		<li><a href="material-properties.html">Material properties</a></li>
		<li><a href="behaviours.html">Mechanical behaviours</a></li>
		<li><a href="models.html">Models</a></li>
	      </ul>
            </li>
	    <li><a href="interfaces.html">Interfaces</a></li>
	    <li><a href="mfront-doc.html">mfront-doc</a></li>
	    <li><a href="mtest.html">mtest</a></li>
	    <li><a href="mfm.html">mfm</a></li>
	  </ul>
	</li>
	<li><a>Getting started</a>
	  <ul>
	    <li><a href="https://sourceforge.net/projects/tfel/files">Download</a></li>
	    <li><a href="release-notes.html">Release notes</a>
	    <ul>
            <li><a>Versions 2.0.x</a>
                <ul>
                <li><a href="release-notes.html">Versions prior to 2.0.5</a><li>
	 	       <li><a href="release-notes-2.0.5.html">Version 2.0.5</a><li>
                </ul>
            </li>
            <li><a>Versions 3.0.x</a>
                <ul>
                    <li><a href="release-notes-3.0.html">Version 3.0.0</a><li>
		           <li><a href="release-notes-3.0.1.html">Version 3.0.1</a><li>
                    <li><a href="release-notes-3.0.2.html">Version 3.0.2</a><li>
		           <li><a href="release-notes-3.0.3.html">Version 3.0.3</a><li>
                </ul>
           </li>
            <li><a>Versions 3.1.x</a>
                <ul>
		<li><a href="release-notes-3.1.html">Version 3.1.0</a><li>
		<li><a href="release-notes-3.1.1.html">Version 3.1.1</a><li>
		<li><a href="release-notes-3.1.2.html">Version 3.1.2</a><li>
		<li><a href="release-notes-3.1.3.html">Version 3.1.3</a><li>
		<li><a href="release-notes-3.1.4.html">Version 3.1.4</a><li>
                </ul>
           </li>
            <li><a>Versions 3.2.x</a>
                <ul>
		           <li><a href="release-notes-3.2.html">Version 3.2.0</a><li>
		           <li><a href="release-notes-3.2.1.html">Version 3.2.1</a><li>
                </ul>
           </li>
	      </ul>
	    </li>
	    <li><a href="coverity-scan.html">Coverity scan</a></li>
	    <li><a href="install.html">Installation</a></li>
	  </ul>
	</li>
	<li><a>Documentation</a>
	  <ul>
	    <li><a href="documentations.html">General documentation</a></li>
	    <li><a href="gallery.html">Gallery</a></li>
	    <li><a>Behaviours</a>
	      <ul>
		<li><a href="tutorial.html">Tutorial</a></li>
		<li><a href="implicit-dsl.html">The implicit DSL</a></li>
		<li><a href="benchmark.html">Benchmark</a></li>
		<li><a href="parameters.html">Parameters</a></li>
		<li><a href="BehaviourBricks.html">Behaviour bricks</a></li>
		<li><a href="interfaces.html">Solver interfaces</a>
		  <ul>
		    <li><a href="castem.html">Cast3M</a></li>
		    <li><a href="aster.html">Code-Aster</a></li>
    		    <li><a href="abaqus.html">Abaqus</a></li>
    		    <li><a href="epx.html">EUROPLEXUS</a></li>
		    <li><a href="zmat.html">ZeBuLoN</a></li>
   		    <li><a href="calculix.html">CalculiX</a></li>
		    <!-- <li><a >TMFFT</a></li> -->
		    <li><a href="cyrano.html">Cyrano</a></li>
   		    <li><a href="generic-behaviours-interface.html">Generic Behaviour Interface</a></li>
		  </ul>
		</li>
	      </ul>
	    </li>
	    <li><a>TFEL libraries</a>
	      <ul>
		<li><a href="material.html">TFEL/Material</a></li>
	      </ul>
	    </li>
	    <li><a>Python modules</a>
	      <ul>
		<li><a href="tfel-python.html">TFEL modules</a></li>
		<li><a href="mfront-python.html">mfront module</a></li>
		<li><a href="mtest-python.html">mtest module</a></li>
	      </ul>
	    </li>
	    <li><a>MFront keywords</a>
	      <ul>
		<li><a href="DefaultDSL-keywords.html">DefaultDSL</a></li> 
		<li><a href="DefaultCZMDSL-keywords.html">DefaultCZMDSL</a></li> 
		<li><a href="DefaultFiniteStrainDSL-keywords.html">DefaultFiniteStrainDSL</a></li> 
		<li><a href="Implicit-keywords.html">Implicit</a></li> 
		<li><a href="ImplicitFiniteStrain-keywords.html">ImplicitFiniteStrain</a></li> 
		<li><a href="ImplicitII-keywords.html">ImplicitII</a></li> 
		<li><a href="IsotropicMisesCreep-keywords.html">IsotropicMisesCreep</a></li> 
		<li><a href="IsotropicPlasticMisesFlow-keywords.html">IsotropicPlasticMisesFlow</a></li> 
		<li><a href="IsotropicStrainHardeningMisesCreep-keywords.html">IsotropicStrainHardeningMisesCreep</a></li> 
		<li><a href="MaterialLaw-keywords.html">MaterialLaw</a></li> 
		<li><a href="Model-keywords.html">Model</a></li> 
		<li><a href="MultipleIsotropicMisesFlows-keywords.html">MultipleIsotropicMisesFlows</a></li> 
		<li><a href="RungeKutta-keywords.html">RungeKutta</a></li> 
	      </ul>
	    </li>
	    <li><a href="MTest-keywords.html">MTest keywords</a></li>
	    <li><a href="physical-constants.html">Physical constants</a></li>
	    <li><a href="glossary.html">Glossary</a></li>
	    <li><a href="publications.html">Publications</a></li>
	    <li><a href="faq.html">FAQ</a></li>
	    <li><a href="about.html">About</a></li>
	  </ul>
	</li>
	<li><a>Contributing</a>
	  <ul>
	    <li><a href="svn.html">Access to source repositories</a></li>
	    <li><a href="devel.html">Development guidelines</a></li>
	    <li><a href="http://sourceforge.net/p/tfel/tickets">Report bugs</a></li>
	  </ul>
	</li>
	<li><a>Getting Help</a>
	  <ul>
	    <li><a href="http://sourceforge.net/p/tfel/discussion">Forum</a></li>
	    <li><a href="http://sourceforge.net/p/tfel/tfel">Mailing lists</a></li>
	    <li><a href="mailto:tfel-contact@cea.fr">Contact</a></li>
	  </ul>
	</li>
      </ul>
    </header>
    <br></br>
        <div id="header">
      <h1 class="title">MTest: unit mechanical behaviour testing</h1>
                  <h2 class="author">Helfer Thomas</h2>
            <h2 class="author">Jean-Michel Proix</h2>
                  <h3 class="date">August 19, 2014</h3>
          </div>
            <h1 id="overview">Overview</h1>
<p><code>MFront</code> comes with an handy easy-to-use tool called <code>MTest</code>. This tool handles two types of computations:</p>
<ul>
<li>The description of a single material point.</li>
<li>The description of a pipe, submitted to variaous kinds of loadings.</li>
</ul>
<p>From various benchmarcks, this tool has been found much faster (from ten to several hundred times depending on the test case) than using a full-fledged finite element solver such as <code>Cast3M</code> or <code>Code_Aster</code>.</p>
<p>The <code>mtest</code> python module, described <a href="mtest-python.html">here</a>, allows much finer control of the computations.</p>
<h1 id="usage">Usage</h1>
<p>MTest can be used from the command line as follows:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1">$ <span class="ex">mtest</span> [options] inputfile</a></code></pre></div>
<p>If the input file has the <code>ptest</code> extension, <code>MTest</code> will assume that the input files describes a test on a pipe. Otherwise, a test on a material point is assumed.</p>
<p>This can be changed by using the <code>--scheme</code> option that currently accept two values:</p>
<ul>
<li><code>--scheme=mtest</code> to specify that the simulation of a single material point is intended.</li>
<li><code>--scheme=ptest</code> to specify that the simulation of a pipe is intended.</li>
</ul>
<h2 id="getting-help">Getting help</h2>
<h3 id="the---help-keywords-list-command-line-option">The <code>--help-keywords-list</code> command line option</h3>
<p>The list of available keywords are available thanks to the <code>--help-keywords-list</code> option. By default, this command describes the list of keywords associated with the simulation of a single material point. To see the keywords associated with the simulation of a pipe, use <code>--scheme=ptest</code> option <em>before</em> the <code>--help-keywords-list</code> option.</p>
<h3 id="the---help-keyword-option">The <code>--help-keyword</code> option</h3>
<p>The <code>--help-keyword</code> displays the help associated with a keyword. If this keyword is specific to the simulation of a pipe, use <code>--scheme=ptest</code> option <em>before</em> the <code>--help-keyword</code> option.</p>
<h1 id="material-point">Material point</h1>
<p><code>MTest</code> can test the local behaviour of a material, by imposing independent constraints on each component of the driving variables (or deformation gradient or or the stress. It equivalent to the <code>SIMU_POINT_MAT</code> operator available within the <code>Code-Aster</code> finite element solver <span class="citation" data-cites="edf_macro-commande_2013">(EDF 2013)</span> or to the <code>SiDoLo</code> software <span class="citation" data-cites="pilvin_sidolo_2003">(Pilvin 2003)</span>.</p>
<p><code>MTest</code> can be used to model various experiments, as far as a stage implying strain localisation is not reached: tensile, compressive or shear tests driven by stresses or deformations, pipe loaded by internal or external pressure,  test, etc.</p>
<p><code>MTest</code> generates a text file containing the evolution of the strains (for small strains behaviours), the stresses an the state variables during the loading history. Other <code>MTest</code> functionalities include:</p>
<ul>
<li>the ability to test all the behaviours handled by <code>MFront</code> (small strain and finite strain behaviours, cohesive zone models);</li>
<li>the ability to test isotropic and orthotropic behaviours;</li>
<li>the support of various modelling hypotheses, notably the plane stress and axisymmetric generalised imposed plane stress hypotheses;</li>
<li>many features to evaluate the numerical performances of mechanical behaviours. For example, user can compare the computed tangent consistent operator to a numerical approximation;</li>
<li>a C++ library and a Python interface <span class="citation" data-cites="von_rossum_python_2007">(Von Rossum 2007)</span>. <code>MTest</code> can be embedded in general purpose scientific environment to fit behaviour parameters against experimental data. In particular, <code>MTest</code> can be used in ADAO <span class="citation" data-cites="salome_adao_2014">(Salome 2014a)</span>, a module for Data Assimilation and Optimization of the Salome platform <span class="citation" data-cites="salome_open_2014">(Salome 2014b)</span>;</li>
<li>comparison of the results (strains, stresses, internal state variables) to reference or analytical results. <code>MTest</code> automatically generates XML file using the <a href="http://junit.org">JUnit</a> format. Those files can be used for reporting using the <a href="http://jenkins-ci.org/">Jenkins continuous integration application</a> This functionality is central in the assurance quality procedure of <code>MFront</code>.</li>
</ul>
<p>Through an appropriate option, a behaviour implementation generated through <code>MFront</code> may create an <code>MTest</code> file in case of integration failure: this <code>MTest</code> file only describe the failed time step with the appropriate initial conditions. This feature is particularly useful to analyse the failure of large simulations which may happen after several hours of computations.</p>
<h2 id="example">Example</h2>
<div class="sourceCode" id="MTestPlasticity"><pre class="sourceCode numberSource cpp numberLines"><code class="sourceCode cpp"><a class="sourceLine" id="MTestPlasticity-1" data-line-number="1"><span class="er">@</span>Behaviour&lt;aster&gt; <span class="ch">&#39;src/libAsterBehaviour.so&#39;</span> <span class="ch">&#39;asterplasticity&#39;</span>;</a>
<a class="sourceLine" id="MTestPlasticity-2" data-line-number="2"><span class="er">@</span>MaterialProperty&lt;constant&gt; <span class="ch">&#39;YoungModulus&#39;</span>     <span class="dv">150</span>.e9;</a>
<a class="sourceLine" id="MTestPlasticity-3" data-line-number="3"><span class="er">@</span>MaterialProperty&lt;constant&gt; <span class="ch">&#39;PoissonRatio&#39;</span>       <span class="fl">0.3</span>;</a>
<a class="sourceLine" id="MTestPlasticity-4" data-line-number="4"><span class="er">@</span>MaterialProperty&lt;constant&gt; <span class="ch">&#39;H&#39;</span>                <span class="dv">100</span>.e9;</a>
<a class="sourceLine" id="MTestPlasticity-5" data-line-number="5"><span class="er">@</span>MaterialProperty&lt;constant&gt; <span class="ch">&#39;s0&#39;</span>               <span class="dv">100</span>.e6;</a>
<a class="sourceLine" id="MTestPlasticity-6" data-line-number="6"><span class="er">@</span>ExternalStateVariable <span class="ch">&#39;Temperature&#39;</span> {<span class="dv">0</span>:<span class="fl">293.15</span>,<span class="fl">3600.</span>:<span class="dv">800</span>};</a>
<a class="sourceLine" id="MTestPlasticity-7" data-line-number="7"><span class="er">@</span>ImposedStrain&lt;function&gt; <span class="ch">&#39;EXX&#39;</span> <span class="ch">&#39;1.e-3*t&#39;</span>;</a>
<a class="sourceLine" id="MTestPlasticity-8" data-line-number="8"><span class="er">@</span>Times {<span class="fl">0.</span>,<span class="dv">1</span> in <span class="dv">20</span>};</a></code></pre></div>
<h1 id="simulation-of-a-pipe">Simulation of a pipe</h1>
<p><code>MTest</code></p>
<h1 id="references">References</h1>
<!-- Local IspellDict: english -->
<div id="refs" class="references">
<div id="ref-edf_macro-commande_2013">
<p>EDF. 2013. “Macro-Commande SIMU_POINT_MAT.” Référence du Code Aster U4.51.12 révision 9069. EDF-R&amp;D/AMA. <a href="http://www.code-aster.org" class="uri">http://www.code-aster.org</a>.</p>
</div>
<div id="ref-pilvin_sidolo_2003">
<p>Pilvin, P. 2003. “SiDoLo Version 2.4495.” Notice d’utilisation. Laboratoire Génie Mécanique et Matériaux, Université de Bretagne Sud.</p>
</div>
<div id="ref-salome_adao_2014">
<p>Salome. 2014a. “ADAO, a SALOME Module for Data Assimilation and Optimization.” <a href="http://www.salome-platform.org/" class="uri">http://www.salome-platform.org/</a>.</p>
</div>
<div id="ref-salome_open_2014">
<p>———. 2014b. “The Open Source Integration Platform for Numerical Simulation.” <a href="http://www.salome-platform.org/" class="uri">http://www.salome-platform.org/</a>.</p>
</div>
<div id="ref-von_rossum_python_2007">
<p>Von Rossum, G. 2007. “Python Library Reference.” <a href="http://docs.python.org" class="uri">http://docs.python.org</a>.</p>
</div>
</div>
        <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-62273823-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
